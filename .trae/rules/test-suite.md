---
alwaysApply: false
---

# 生成测试用例的规则

请用**中文**输出上下文。
系统需要阅读指定文件或目录下所有`.ts`文件的代码，归纳需要测试的范围，打算围绕哪些功能编写测试用例，但不要马上开始编写测试用例，需要等用户确认后，才开始编写测试用例。

## 存放位置

测试用例文件生成在指定文件所属目录，或指定目录下的`__test__`目录中，就一个测试用例文件，命名为`index.test.ts`。

## 其他要求

1. 测试用例应尽量减少增删文件或其他（例如 Git 分支、Commit、tag 等）。
2. 如果需要测试的类方法是私有的，请告知用户，确认后修改。
3. 如果需要测试的类方法或函数有控制台输出，请在业务代码而不是测试用例中使用以下代码将其包裹：

```typescript
if (process.env.VITEST) {
    // 需要输出到控制台的代码
}
```

4. 编写完成后，在命令行运行代码测试，只要测试这份用例。如果测试不通过，请根据错误信息修改代码或测试用例。
