# agent

管理接口代理的命令，用于在本地转发 API 请求到远程服务器。

## 使用方法

```bash
$ mycli agent [command] [options]
```

直接执行`mycli agent`会列出所有已配置的代理，并让你选择一个要运行的代理。

## 命令

### 默认

显示所有可用的代理，并选择一个运行。

### add

添加新的代理配置。

```bash
$ mycli agent --add
```

执行此命令会通过交互式问答添加一个新的代理配置：

1. 输入代理名称
2. 输入接口代理前缀
3. 添加代理规则，格式为：`来源路径,目标路径`，例如：`/occ, http://192.168.0.129:8005/occ`
4. 可以添加多条规则，输入`:q`结束添加

### delete

删除已有的代理配置。

```bash
$ mycli agent --delete
```

执行此命令会列出所有可用的代理配置，支持多选，选择完成后会删除所选的代理配置。

## 代理格式示例

```
商品搬家

http://192.168.0.129:9527/move/occ -> http://192.168.0.39:8005/occ
http://192.168.0.129:9527/move/business -> http://192.168.0.39:7011/business
```

上面的示例表示：

-   代理名称：商品搬家
-   端口：9527（全局配置）
-   前缀：/move
-   规则 1：/occ -> http://192.168.0.39:8005/occ
-   规则 2：/business -> http://192.168.0.39:7011/business
